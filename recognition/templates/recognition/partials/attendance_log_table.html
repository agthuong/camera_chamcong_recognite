{% load static %} {# Thêm load static nếu cần cho các URL ảnh trong tương lai #}
<div class="table-responsive">
    <table class="table table-sm table-striped table-hover mb-0 attendance-table"> 
         <thead class="thead-light sticky-top">
        <tr>
            <th>Ngày</th>
            <th>Người dùng</th>
                <th>Ảnh In</th>
                <th>Giờ In</th>
                <th>Ảnh Out</th>
                <th>Giờ Out</th>
        </tr>
    </thead>
    <tbody>
        {% for record in records %}
        <tr>
                 <td>{{ record.date|date:"d/m" }}</td>
                <td>{{ record.user.get_full_name|default:record.user.username|truncatechars:15 }}</td>
            <td>
                {% if record.check_in_face %}
                        {# Đảm bảo URL ảnh là đúng. Nếu MEDIA_URL được cấu hình đúng, .url sẽ hoạt động #}
                        <img src="{{ record.check_in_face.url }}" alt="In">
                    {% else %}-{% endif %}
            </td>
                <td>{{ record.check_in|date:"H:i"|default:"-" }}</td>
            <td>
                {% if record.check_out_face %}
                        <img src="{{ record.check_out_face.url }}" alt="Out">
                    {% else %}-{% endif %}
            </td>
                <td>{{ record.check_out|date:"H:i"|default:"-" }}</td>
        </tr>
        {% empty %}
        <tr>
                <td colspan="6" class="text-center text-muted py-3">Chưa có dữ liệu</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>